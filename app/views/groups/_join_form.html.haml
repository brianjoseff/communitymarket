/ -if group.members.include?(current_user)
/   /=render :partial => "leave"
/   =link_to "Leave this group", membership_url(current_user.memberships.find_by_group_id(group)), :method => :delete, :confirm => "Are you sure?"
/ -else
/   / =render :partial => "join"
/   =form_for group do |f|
/     =hidden_field_tag('group[member_ids][]', current_user.id)
/     .action=f.submit "Join Group"
/ 
/ 



/MODAL ATTEMPT

-if current_user
  -if group.members.include?(current_user)
    /=render :partial => "leave"
    =link_to "Leave", membership_url(current_user.memberships.find_by_group_id(group)), :method => :delete, :confirm => "Are you sure?"
  -else
    -if group.private?
      =form_tag(private_groups_path,  method: :put) do
        =hidden_field_tag :group_id, group.id
        =hidden_field_tag('group[member_ids][]', current_user.id)
        %div.span3
          =text_field_tag :password, nil, :class => "input-block-level inline", :placeholder => "Password", :id => "join_private_group"
        =submit_tag "Join", :class => "btn btn-medium"
    -else
      =form_for group do |f|
        =hidden_field_tag('group[member_ids][]', current_user.id)
        =f.submit "Join", :class => "btn btn-medium"
-else
  =link_to_modal "Join", new_user_path(:group_id => group.id), :class => "btn btn-mini", :remote => true 
  
